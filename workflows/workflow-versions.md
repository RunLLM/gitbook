# Workflow Versions

Workflows are versioned on every execution. You can see previous versions on by clicking the dropdown menu.

<figure><img src="../.gitbook/assets/image (16).png" alt=""><figcaption></figcaption></figure>

On every execution, Aqueduct automatically captures the code that was executed as well as _all the data that was generated by the workflow_ -- this includes intermediary data artifacts that aren't explicitly saved by the workflow. Aqueduct captures this information on each workflow run in order to help debug workflows, both within an individual execution and across time.&#x20;

By default, the snapshots of intermediary data are stored on your local filesystem. You can alternate this settings when publishing the workflow.

Of course, this data can quickly get out of hand, so Aqueduct also automatically prunes version history. The default setting maintains versions for 7 days.&#x20;

To configure how many versions of a workflow are retained, you can specify the `k_latest_runs` argument when calling `publish_flow`:

```python
import aqueduct as aq
client = aq.Client()

db = client.resource('aqueduct_demo')
table = db.sql('SELECT * FROM wine;')

client.publish_flow(
    'Wines Data',
    artifacts=[table],
    k_latest_runs=3 # After 3 runs, old data snapshots will be garbage collected.
)
```
